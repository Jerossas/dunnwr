{{ define "main" }}
  <section class="blog-list">
    <header class="blog-list__header">
      <h1 class="blog-list__title">Blog</h1>
      <p class="blog-list__subtitle">
        Últimas publicaciones en Dunnwr.
      </p>
    </header>

    <div class="blog-list__grid">
      {{ range .Paginator.Pages }}
        <article class="blog-card">
          {{ with .Params.cover }}
            {{ $cover := $.Resources.GetMatch . }}
            {{ with $cover }}
              <a href="{{ $.RelPermalink }}" class="blog-card__image-link">
                <img
                  src="{{ .RelPermalink }}"
                  alt="{{ $.Title }}"
                  class="blog-card__image"
                  loading="lazy"
                >
              </a>
            {{ end }}
          {{ end }}

          <div class="blog-card__body">
            <h2 class="blog-card__title">
              <a href="{{ .RelPermalink }}" class="blog-card__title-link">
                {{ .Title }}
              </a>
            </h2>

            <p class="blog-card__meta">
              <time datetime="{{ .Date }}">
                {{ .Date.Format "02 de January de 2006" }}
              </time>
              {{ with .Params.author }}
                <span class="blog-card__author"> · {{ . }}</span>
              {{ end }}
            </p>

            <p class="blog-card__excerpt">
              {{ with .Params.description }}
                {{ . }}
              {{ else }}
                {{ .Summary }}
              {{ end }}
            </p>

            <a href="{{ .RelPermalink }}" class="blog-card__read-more">
              Leer más
            </a>
          </div>
        </article>
      {{ end }}
    </div>

    {{ template "_internal/pagination.html" . }}
  </section>
{{ end }}
